<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M8 Messenger</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #3498db;
            --primary-dark: #2980b9;
            --primary-light: #5dade2;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --success: #27ae60;
            --warning: #f39c12;
            --dark: #34495e;
            --light: #ecf0f1;
            --gray: #bdc3c7;
            --text: #2c3e50;
            --chat-bg: #e5ddd5;
        }

        body {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            min-height: 100vh;
            color: var(--text);
        }

        .container {
            width: 100%;
            max-width: 100%;
            min-height: 100vh;
        }

        /* SCREEN MANAGEMENT */
        .screen {
            display: none;
            width: 100%;
            min-height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background: white;
        }

        .screen.active {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        /* HEADER */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 50;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-title {
            font-size: 1.3em;
            font-weight: 600;
        }

        .header-actions {
            display: flex;
            gap: 15px;
        }

        .header-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .header-btn:hover {
            background: rgba(255,255,255,0.1);
        }

        /* TAB BAR */
        .tab-bar {
            display: flex;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: none;
            border: none;
            color: rgba(255,255,255,0.7);
            cursor: pointer;
            font-size: 0.9em;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab.active {
            color: white;
            border-bottom-color: white;
        }

        /* WELCOME SCREEN */
        .welcome-screen {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 30px 20px;
            text-align: center;
        }

        .welcome-logo {
            font-size: 4em;
            margin-bottom: 20px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .welcome-title {
            font-size: 2em;
            margin-bottom: 15px;
            font-weight: 300;
        }

        .welcome-subtitle {
            font-size: 1.1em;
            margin-bottom: 40px;
            opacity: 0.9;
            line-height: 1.5;
        }

        .welcome-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-width: 300px;
            margin: 0 auto;
        }

        .btn {
            padding: 16px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: white;
            color: var(--primary);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        /* AUTH SCREENS */
        .auth-screen {
            background: white;
            min-height: 100vh;
        }

        .auth-form {
            padding: 30px 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 600;
            font-size: 1em;
        }

        .form-input {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--gray);
            border-radius: 10px;
            font-size: 16px;
            background: white;
            color: var(--text);
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .auth-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .auth-links {
            text-align: center;
            margin-top: 25px;
        }

        .auth-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }

        /* PIN SCREEN */
        .pin-screen {
            background: white;
            min-height: 100vh;
        }

        .pin-display {
            background: var(--light);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 20px;
            text-align: center;
            border: 2px dashed var(--primary);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        .pin-title {
            color: var(--text);
            margin-bottom: 15px;
            font-size: 1.1em;
            font-weight: 600;
        }

        .pin-code {
            font-size: 2.5em;
            font-weight: bold;
            letter-spacing: 10px;
            color: var(--primary);
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid var(--primary-light);
        }

        .copy-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 20px auto;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .copy-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
        }

        .countdown {
            color: var(--accent);
            font-weight: 600;
            margin: 15px 0;
            font-size: 1.1em;
        }

        /* CHATS SCREEN */
        .chats-screen {
            background: white;
            min-height: 100vh;
        }

        .search-box {
            padding: 15px;
            background: var(--light);
            border-bottom: 1px solid var(--gray);
        }

        .search-input {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--gray);
            border-radius: 20px;
            font-size: 0.95em;
            background: white;
            color: var(--text);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .chats-list {
            background: white;
        }

        .chat-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-bottom: 1px solid var(--light);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chat-item:hover {
            background: var(--light);
        }

        .chat-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
            border: 3px solid white;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .chat-info {
            flex: 1;
        }

        .chat-name {
            color: var(--dark);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .chat-preview {
            color: var(--gray);
            font-size: 0.9em;
        }

        .chat-meta {
            text-align: right;
        }

        .chat-time {
            color: var(--gray);
            font-size: 0.8em;
            margin-bottom: 5px;
        }

        .chat-badge {
            background: var(--accent);
            color: white;
            border-radius: 10px;
            padding: 3px 8px;
            font-size: 0.8em;
            font-weight: 600;
        }

        /* STATUS SCREEN */
        .status-screen {
            background: white;
            min-height: 100vh;
        }

        .my-status {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            border-bottom: 1px solid var(--light);
            cursor: pointer;
        }

        .status-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
            border: 2px solid var(--primary-light);
        }

        .status-info {
            flex: 1;
        }

        .status-name {
            color: var(--dark);
            font-weight: 600;
            margin-bottom: 5px;
        }

        .status-text {
            color: var(--gray);
            font-size: 0.9em;
        }

        .status-list {
            padding: 10px 0;
        }

        .status-section {
            margin-bottom: 20px;
        }

        .section-title {
            color: var(--gray);
            font-size: 0.9em;
            padding: 10px 20px;
            text-transform: uppercase;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .status-item:hover {
            background: var(--light);
        }

        .status-avatar-small {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            position: relative;
        }

        .status-indicator {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 12px;
            height: 12px;
            background: var(--success);
            border: 2px solid white;
            border-radius: 50%;
        }

        /* CALLS SCREEN */
        .calls-screen {
            background: white;
            min-height: 100vh;
        }

        .call-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 20px;
            border-bottom: 1px solid var(--light);
            transition: background 0.3s ease;
        }

        .call-item:hover {
            background: var(--light);
        }

        .call-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .call-info {
            flex: 1;
        }

        .call-name {
            color: var(--dark);
            font-weight: 600;
            margin-bottom: 3px;
        }

        .call-details {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--gray);
            font-size: 0.9em;
        }

        .call-icon {
            color: var(--primary);
        }

        .call-missed {
            color: var(--accent);
        }

        .call-time {
            color: var(--gray);
            font-size: 0.8em;
        }

        /* CHAT ROOM SCREEN */
        .chat-room-screen {
            background: var(--chat-bg);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            padding: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .back-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.2em;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.1);
        }

        .chat-user-info {
            flex: 1;
        }

        .chat-user-name {
            color: white;
            font-weight: 600;
            margin-bottom: 3px;
        }

        .chat-user-status {
            color: rgba(255,255,255,0.8);
            font-size: 0.8em;
        }

        .chat-actions {
            display: flex;
            gap: 10px;
        }

        .messages-container {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            background: var(--chat-bg);
            display: flex;
            flex-direction: column;
            gap: 10px;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23bdc3c7' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .message {
            max-width: 70%;
            padding: 12px 15px;
            border-radius: 15px;
            position: relative;
            animation: messageAppear 0.3s ease-out;
            line-height: 1.4;
            font-size: 0.95em;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        @keyframes messageAppear {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.sent {
            align-self: flex-end;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-bottom-right-radius: 5px;
        }

        .message.received {
            align-self: flex-start;
            background: white;
            color: var(--text);
            border-bottom-left-radius: 5px;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .message-time {
            font-size: 0.7em;
            opacity: 0.7;
            margin-top: 5px;
            text-align: right;
        }

        .received .message-time {
            text-align: left;
        }

        .message-input-container {
            padding: 15px;
            background: white;
            border-top: 1px solid var(--gray);
            display: flex;
            gap: 10px;
            align-items: center;
            position: sticky;
            bottom: 0;
        }

        .emoji-btn {
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.3em;
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .emoji-btn:hover {
            background: var(--light);
        }

        .message-input {
            flex: 1;
            padding: 12px 15px;
            border: 2px solid var(--gray);
            border-radius: 25px;
            font-size: 0.95em;
            background: white;
            color: var(--text);
            transition: all 0.3s ease;
            min-height: 45px;
            max-height: 120px;
            resize: none;
        }

        .message-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .send-btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .send-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 3px 10px rgba(52, 152, 219, 0.3);
        }

        /* PROFILE SCREEN */
        .profile-screen {
            background: white;
            min-height: 100vh;
        }

        .profile-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            padding: 40px 20px 20px;
            text-align: center;
        }

        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2em;
            font-weight: bold;
            margin: 0 auto 15px;
            border: 4px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .profile-name {
            color: white;
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .profile-status {
            color: rgba(255,255,255,0.9);
            font-size: 0.9em;
        }

        .profile-content {
            padding: 20px;
        }

        .profile-section {
            background: var(--light);
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .profile-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            color: var(--text);
        }

        .profile-item:last-child {
            border-bottom: none;
        }

        .profile-label {
            font-weight: 600;
        }

        .profile-value {
            color: var(--dark);
            font-weight: 500;
        }

        .profile-actions {
            padding: 20px;
        }

        .logout-btn {
            width: 100%;
            padding: 15px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- WELCOME SCREEN -->
        <div id="welcomeScreen" class="screen active">
            <div class="welcome-screen">
                <div class="welcome-logo">ðŸ’¬</div>
                <h1 class="welcome-title">M8 Messenger</h1>
                <p class="welcome-subtitle">Pesan pribadi yang cepat, sederhana, dan aman dengan tema biru yang menenangkan</p>
                
                <div class="welcome-buttons">
                    <button class="btn btn-primary" onclick="showScreen('registerScreen')">
                        <i class="fas fa-user-plus"></i> Daftar Akun Baru
                    </button>
                    <button class="btn btn-secondary" onclick="showScreen('loginScreen')">
                        <i class="fas fa-sign-in-alt"></i> Masuk dengan PIN
                    </button>
                </div>
            </div>
        </div>

        <!-- REGISTER SCREEN -->
        <div id="registerScreen" class="screen">
            <div class="auth-screen">
                <div class="header">
                    <button class="header-btn" onclick="showScreen('welcomeScreen')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-title">Daftar Akun Baru</div>
                    <div class="header-actions"></div>
                </div>

                <div class="auth-form">
                    <form id="registerForm">
                        <div class="form-group">
                            <label class="form-label">Nama Lengkap</label>
                            <input type="text" class="form-input" id="registerName" placeholder="Masukkan nama lengkap" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-input" id="registerEmail" placeholder="email@contoh.com" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Nomor Telepon</label>
                            <input type="tel" class="form-input" id="registerPhone" placeholder="+62 812-3456-7890" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Password</label>
                            <input type="password" class="form-input" id="registerPassword" placeholder="Buat password" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Konfirmasi Password</label>
                            <input type="password" class="form-input" id="registerConfirmPassword" placeholder="Ulangi password" required>
                        </div>
                        <button type="submit" class="auth-btn">
                            <i class="fas fa-user-plus"></i> Daftar Sekarang
                        </button>
                    </form>
                    
                    <div class="auth-links">
                        <a href="#" class="auth-link" onclick="showScreen('loginScreen')">Sudah punya akun? Masuk</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- PIN SCREEN -->
        <div id="pinScreen" class="screen">
            <div class="pin-screen">
                <div class="header">
                    <button class="header-btn" onclick="showScreen('registerScreen')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-title">PIN Akses Anda</div>
                    <div class="header-actions"></div>
                </div>

                <div class="pin-display">
                    <div class="pin-title">Salin PIN Anda sebelum hilang:</div>
                    <div class="pin-code" id="generatedPin">M8AB1234</div>
                    <div class="countdown">
                        <i class="fas fa-clock"></i> PIN akan hilang dalam: 
                        <span id="countdown">30</span> detik
                    </div>
                    <button class="copy-btn" onclick="copyPin()">
                        <i class="fas fa-copy"></i> Salin PIN
                    </button>
                </div>

                <div class="auth-links" style="padding: 20px; text-align: center;">
                    <a href="#" class="auth-link" onclick="showScreen('loginScreen')">Lanjutkan ke Login</a>
                </div>
            </div>
        </div>

        <!-- LOGIN SCREEN -->
        <div id="loginScreen" class="screen">
            <div class="auth-screen">
                <div class="header">
                    <button class="header-btn" onclick="showScreen('welcomeScreen')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-title">Masuk ke M8</div>
                    <div class="header-actions"></div>
                </div>

                <div class="auth-form">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <div style="font-size: 4em; color: var(--primary); margin-bottom: 15px;">
                            <i class="fas fa-lock"></i>
                        </div>
                        <h3 style="color: var(--dark); margin-bottom: 10px;">Masukkan PIN Anda</h3>
                        <p style="color: var(--gray);">Gunakan PIN yang Anda dapatkan saat registrasi</p>
                    </div>

                    <form id="loginForm">
                        <div class="form-group">
                            <input type="text" class="form-input" id="loginPin" placeholder="Masukkan PIN 8-digit" 
                                   style="text-align: center; letter-spacing: 8px; font-weight: bold; font-size: 1.2em;" 
                                   maxlength="8" required>
                        </div>
                        <button type="submit" class="auth-btn">
                            <i class="fas fa-sign-in-alt"></i> Masuk ke M8
                        </button>
                    </form>
                    
                    <div class="auth-links">
                        <a href="#" class="auth-link" onclick="showScreen('registerScreen')">Belum punya akun? Daftar</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- MAIN APP SCREEN -->
        <div id="mainAppScreen" class="screen">
            <!-- CHATS TAB -->
            <div id="chatsTab" class="screen active">
                <div class="chats-screen">
                    <div class="header">
                        <div class="header-title">Chats</div>
                        <div class="header-actions">
                            <button class="header-btn" onclick="showScreen('profileScreen')">
                                <i class="fas fa-user"></i>
                            </button>
                        </div>
                    </div>

                    <div class="search-box">
                        <input type="text" class="search-input" placeholder="Cari percakapan...">
                    </div>

                    <div class="chats-list">
                        <!-- Chat items will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- STATUS TAB -->
            <div id="statusTab" class="screen">
                <div class="status-screen">
                    <div class="header">
                        <div class="header-title">Status</div>
                        <div class="header-actions">
                            <button class="header-btn">
                                <i class="fas fa-camera"></i>
                            </button>
                            <button class="header-btn">
                                <i class="fas fa-ellipsis-v"></i>
                            </button>
                        </div>
                    </div>

                    <div class="my-status">
                        <div class="status-avatar" id="myStatusAvatar">U</div>
                        <div class="status-info">
                            <div class="status-name" id="myStatusName">Status Saya</div>
                            <div class="status-text">Ketuk untuk menambah status</div>
                        </div>
                    </div>

                    <div class="status-list">
                        <div class="section-title">Status terbaru</div>
                        <!-- Status items will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- CALLS TAB -->
            <div id="callsTab" class="screen">
                <div class="calls-screen">
                    <div class="header">
                        <div class="header-title">Panggilan</div>
                        <div class="header-actions">
                            <button class="header-btn">
                                <i class="fas fa-phone-alt"></i>
                            </button>
                            <button class="header-btn">
                                <i class="fas fa-video"></i>
                            </button>
                        </div>
                    </div>

                    <div class="calls-list">
                        <!-- Call items will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- TAB BAR -->
            <div class="tab-bar" style="position: fixed; bottom: 0; width: 100%;">
                <button class="tab active" onclick="showTab('chatsTab')">
                    <i class="fas fa-comments"></i>
                </button>
                <button class="tab" onclick="showTab('statusTab')">
                    <i class="fas fa-circle"></i>
                </button>
                <button class="tab" onclick="showTab('callsTab')">
                    <i class="fas fa-phone"></i>
                </button>
            </div>
        </div>

        <!-- CHAT ROOM SCREEN -->
        <div id="chatRoomScreen" class="screen">
            <div class="chat-room-screen">
                <div class="chat-header">
                    <button class="back-btn" onclick="showTab('chatsTab')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="chat-user-info">
                        <div class="chat-user-name" id="chatWithName">Nama Kontak</div>
                        <div class="chat-user-status" id="chatWithStatus">Online</div>
                    </div>
                    <div class="chat-actions">
                        <button class="header-btn">
                            <i class="fas fa-phone-alt"></i>
                        </button>
                        <button class="header-btn">
                            <i class="fas fa-video"></i>
                        </button>
                    </div>
                </div>

                <div class="messages-container" id="messagesContainer">
                    <!-- Messages will be loaded here -->
                </div>

                <div class="message-input-container">
                    <button class="emoji-btn">
                        <i class="far fa-smile"></i>
                    </button>
                    <textarea class="message-input" id="messageInput" placeholder="Ketik pesan..." rows="1"></textarea>
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- PROFILE SCREEN -->
        <div id="profileScreen" class="screen">
            <div class="profile-screen">
                <div class="header">
                    <button class="header-btn" onclick="showTab('chatsTab')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="header-title">Profil</div>
                    <div class="header-actions"></div>
                </div>

                <div class="profile-header">
                    <div class="profile-avatar" id="profileAvatar">U</div>
                    <div class="profile-name" id="profileName">User Name</div>
                    <div class="profile-status" id="profileStatus">Online</div>
                </div>

                <div class="profile-content">
                    <div class="profile-section">
                        <div class="profile-item">
                            <div class="profile-label">Nama</div>
                            <div class="profile-value" id="profileDisplayName">-</div>
                        </div>
                        <div class="profile-item">
                            <div class="profile-label">PIN</div>
                            <div class="profile-value" id="profilePin">-</div>
                        </div>
                        <div class="profile-item">
                            <div class="profile-label">Bergabung</div>
                            <div class="profile-value" id="profileJoined">-</div>
                        </div>
                        <div class="profile-item">
                            <div class="profile-label">Status</div>
                            <div class="profile-value" id="profileActiveStatus">Aktif</div>
                        </div>
                    </div>
                </div>

                <div class="profile-actions">
                    <button class="logout-btn" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ==================== M8 MESSENGER - BLUE THEME WHATSAPP STYLE ====================
        
        let currentUser = null;
        let currentChat = null;
        let allUsers = [];
        let conversations = [];
        let pinCountdown = 30;
        let pinCountdownInterval;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadSampleData();
            
            // Auto-resize textarea
            const messageInput = document.getElementById('messageInput');
            messageInput.addEventListener('input', function() {
                this.style.height = 'auto';
                this.style.height = Math.min(this.scrollHeight, 120) + 'px';
            });
        });

        function initializeApp() {
            console.log('ðŸš€ M8 Messenger - Blue Theme Initialized');
            
            // Check for existing user session
            const savedUser = localStorage.getItem('m8_current_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showScreen('mainAppScreen');
                loadUserData();
                loadChats();
            }
        }

        function loadSampleData() {
            // Load existing users from localStorage or create sample data
            const users = JSON.parse(localStorage.getItem('m8_users') || '[]');
            allUsers = users;
            
            if (allUsers.length === 0) {
                allUsers = [
                    {
                        id: 'user_1',
                        name: 'Budi Santoso',
                        email: 'budi@example.com',
                        phone: '+62 811-2233-4455',
                        pin: 'BUDI1234',
                        avatar: 'B',
                        joined: '15 Mar 2024',
                        status: 'Online'
                    },
                    {
                        id: 'user_2', 
                        name: 'Sari Indah',
                        email: 'sari@example.com',
                        phone: '+62 822-3344-5566',
                        pin: 'SARI5678',
                        avatar: 'S',
                        joined: '20 Mar 2024',
                        status: 'Online'
                    },
                    {
                        id: 'user_3',
                        name: 'Rizki Pratama',
                        email: 'rizki@example.com',
                        phone: '+62 833-4455-6677',
                        pin: 'RIZK9012',
                        avatar: 'R',
                        joined: '25 Mar 2024',
                        status: 'Offline'
                    }
                ];
                localStorage.setItem('m8_users', JSON.stringify(allUsers));
            }

            // Load sample conversations
            conversations = [
                {
                    id: 'chat_1',
                    userId: 'user_1',
                    lastMessage: 'Halo, apa kabar?',
                    lastTime: '10:30',
                    unread: 2
                },
                {
                    id: 'chat_2',
                    userId: 'user_2', 
                    lastMessage: 'Terima kasih atas bantuannya!',
                    lastTime: '09:15',
                    unread: 0
                },
                {
                    id: 'chat_3',
                    userId: 'user_3',
                    lastMessage: 'Besok kita meeting jam 10',
                    lastTime: 'Kemarin',
                    unread: 1
                }
            ];
        }

        // Screen management
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            
            if (screenId === 'mainAppScreen') {
                showTab('chatsTab');
            }
        }

        function showTab(tabId) {
            // Hide all tabs
            document.querySelectorAll('#mainAppScreen > .screen').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabId).classList.add('active');
            
            // Update tab buttons
            document.querySelectorAll('.tab-bar .tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Load appropriate data
            if (tabId === 'chatsTab') {
                loadChats();
            } else if (tabId === 'statusTab') {
                loadStatus();
            } else if (tabId === 'callsTab') {
                loadCalls();
            }
        }

        // Authentication
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;

            if (!name || !email || !phone || !password || !confirmPassword) {
                alert('Harap isi semua field!');
                return;
            }

            if (password !== confirmPassword) {
                alert('Password dan konfirmasi password tidak cocok!');
                return;
            }

            // Generate secure PIN (4 huruf + 4 angka)
            const pin = generateSecurePIN();
            
            // Create user object
            currentUser = {
                id: 'user_' + Date.now(),
                name: name,
                email: email,
                phone: phone,
                pin: pin,
                avatar: name.charAt(0).toUpperCase(),
                joined: new Date().toLocaleDateString('id-ID'),
                status: 'Online'
            };

            // Add to all users
            allUsers.push(currentUser);
            localStorage.setItem('m8_users', JSON.stringify(allUsers));
            localStorage.setItem('m8_current_user', JSON.stringify(currentUser));

            // Show PIN screen with countdown
            document.getElementById('generatedPin').textContent = pin;
            showScreen('pinScreen');
            startPinCountdown();
        });

        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const pin = document.getElementById('loginPin').value.toUpperCase();

            if (pin.length !== 8) {
                alert('PIN harus 8 karakter!');
                return;
            }

            const user = allUsers.find(u => u.pin === pin);

            if (!user) {
                alert('PIN tidak valid!');
                return;
            }

            currentUser = user;
            localStorage.setItem('m8_current_user', JSON.stringify(currentUser));
            
            showScreen('mainAppScreen');
            loadUserData();
            loadChats();
        });

        function generateSecurePIN() {
            const letters = 'ABCDEFGHJKLMNPQRSTUVWXYZ';
            const numbers = '23456789';
            
            let pin = 'M8'; // Prefix M8
            
            // 3 random letters
            for (let i = 0; i < 3; i++) {
                pin += letters[Math.floor(Math.random() * letters.length)];
            }
            
            // 3 random numbers
            for (let i = 0; i < 3; i++) {
                pin += numbers[Math.floor(Math.random() * numbers.length)];
            }
            
            return pin;
        }

        // PIN Functions
        function startPinCountdown() {
            pinCountdown = 30;
            document.getElementById('countdown').textContent = pinCountdown;
            
            if (pinCountdownInterval) {
                clearInterval(pinCountdownInterval);
            }
            
            pinCountdownInterval = setInterval(() => {
                pinCountdown--;
                document.getElementById('countdown').textContent = pinCountdown;
                
                if (pinCountdown <= 0) {
                    clearInterval(pinCountdownInterval);
                    showScreen('loginScreen');
                    alert('PIN telah kadaluarsa! Silakan daftar ulang.');
                }
            }, 1000);
        }

        function copyPin() {
            const pin = document.getElementById('generatedPin').textContent;
            navigator.clipboard.writeText(pin).then(() => {
                alert('PIN berhasil disalin! Simpan di tempat aman.');
            }).catch(err => {
                alert('Gagal menyalin PIN: ' + err);
            });
        }

        // User data management
        function loadUserData() {
            if (currentUser) {
                document.getElementById('profileName').textContent = currentUser.name;
                document.getElementById('profileAvatar').textContent = currentUser.avatar;
                document.getElementById('profileDisplayName').textContent = currentUser.name;
                document.getElementById('profilePin').textContent = currentUser.pin;
                document.getElementById('profileJoined').textContent = currentUser.joined;
                document.getElementById('profileStatus').textContent = currentUser.status;
                
                // Update status tab
                document.getElementById('myStatusName').textContent = currentUser.name;
                document.getElementById('myStatusAvatar').textContent = currentUser.avatar;
            }
        }

        // Chat functionality
        function loadChats() {
            const container = document.querySelector('.chats-list');
            if (!container) return;
            
            container.innerHTML = '';

            conversations.forEach(conv => {
                const user = allUsers.find(u => u.id === conv.userId);
                if (user) {
                    const chatElement = createChatElement(user, conv);
                    container.appendChild(chatElement);
                }
            });
        }

        function createChatElement(user, conversation) {
            const chatElement = document.createElement('div');
            chatElement.className = 'chat-item';
            chatElement.onclick = () => openChat(user);
            
            const unreadBadge = conversation.unread > 0 ? 
                `<div class="chat-badge">${conversation.unread}</div>` : '';
            
            chatElement.innerHTML = `
                <div class="chat-avatar">${user.avatar}</div>
                <div class="chat-info">
                    <div class="chat-name">${user.name}</div>
                    <div class="chat-preview">${conversation.lastMessage}</div>
                </div>
                <div class="chat-meta">
                    <div class="chat-time">${conversation.lastTime}</div>
                    ${unreadBadge}
                </div>
            `;
            
            return chatElement;
        }

        function openChat(user) {
            currentChat = user;
            showScreen('chatRoomScreen');
            
            document.getElementById('chatWithName').textContent = user.name;
            document.getElementById('chatWithStatus').textContent = user.status;
            
            loadMessages();
        }

        function loadMessages() {
            const container = document.getElementById('messagesContainer');
            container.innerHTML = '';

            // Add welcome message
            addSystemMessage(`Anda memulai percakapan dengan ${currentChat.name}`);
            
            // Simulate some existing messages
            setTimeout(() => {
                addMessage('Halo! Ada yang bisa saya bantu?', 'received', currentChat.name);
            }, 500);
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const content = input.value.trim();
            
            if (!content || !currentUser || !currentChat) return;

            // Add message to UI
            addMessage(content, 'sent');
            
            // Clear and reset input
            input.value = '';
            input.style.height = 'auto';
            
            // Simulate reply if the user is online
            if (currentChat.status === 'Online') {
                setTimeout(() => {
                    const replies = [
                        "Halo! Terima kasih sudah menghubungi",
                        "Wah, pesan yang menarik!",
                        "Saya akan membalas pesan Anda segera",
                        "Terima kasih atas pesannya!"
                    ];
                    const randomReply = replies[Math.floor(Math.random() * replies.length)];
                    addMessage(randomReply, 'received', currentChat.name);
                }, 1000 + Math.random() * 2000);
            }
        }

        function addMessage(content, type, sender = null) {
            const container = document.getElementById('messagesContainer');
            
            // Remove welcome message if it's the first message
            if (container.children.length === 1 && container.children[0].style.textAlign === 'center') {
                container.innerHTML = '';
            }
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type}`;
            
            const time = new Date().toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
            
            messageDiv.innerHTML = `
                <div>${content}</div>
                <div class="message-time">${time}</div>
            `;
            
            container.appendChild(messageDiv);
            container.scrollTop = container.scrollHeight;
        }

        function addSystemMessage(content) {
            const container = document.getElementById('messagesContainer');
            const systemDiv = document.createElement('div');
            systemDiv.style.textAlign = 'center';
            systemDiv.style.margin = '20px 0';
            systemDiv.style.color = 'var(--gray)';
            systemDiv.style.fontSize = '0.85em';
            systemDiv.style.fontStyle = 'italic';
            systemDiv.style.padding = '10px';
            systemDiv.style.background = 'rgba(255,255,255,0.5)';
            systemDiv.style.borderRadius = '10px';
            systemDiv.textContent = content;
            container.appendChild(systemDiv);
        }

        // Status functionality
        function loadStatus() {
            const container = document.querySelector('.status-list');
            if (!container) return;
            
            // Clear existing status except title
            const title = container.querySelector('.section-title');
            container.innerHTML = '';
            if (title) container.appendChild(title);
            
            // Add status from other users
            const otherUsers = allUsers.filter(user => user.id !== currentUser?.id);
            otherUsers.forEach(user => {
                const statusElement = createStatusElement(user);
                container.appendChild(statusElement);
            });
        }

        function createStatusElement(user) {
            const statusElement = document.createElement('div');
            statusElement.className = 'status-item';
            statusElement.onclick = () => viewStatus(user);
            
            statusElement.innerHTML = `
                <div class="status-avatar-small">
                    ${user.avatar}
                    <div class="status-indicator"></div>
                </div>
                <div class="status-info">
                    <div class="status-name">${user.name}</div>
                    <div class="status-text">Baru saja</div>
                </div>
            `;
            
            return statusElement;
        }

        function viewStatus(user) {
            alert(`Melihat status ${user.name}`);
        }

        // Calls functionality
        function loadCalls() {
            const container = document.querySelector('.calls-list');
            if (!container) return;
            
            container.innerHTML = '';

            // Sample call history
            const calls = [
                { user: allUsers[0], type: 'outgoing', time: '10:30', missed: false },
                { user: allUsers[1], type: 'incoming', time: '09:15', missed: true },
                { user: allUsers[2], type: 'outgoing', time: 'Kemarin', missed: false }
            ];
            
            calls.forEach(call => {
                const callElement = createCallElement(call);
                container.appendChild(callElement);
            });
        }

        function createCallElement(call) {
            const callElement = document.createElement('div');
            callElement.className = 'call-item';
            
            const callIcon = call.type === 'outgoing' ? 'fa-phone-alt' : 'fa-phone';
            const callColor = call.missed ? 'call-missed' : 'call-icon';
            const callText = call.missed ? 'Terlewat' : (call.type === 'outgoing' ? 'Keluar' : 'Masuk');
            
            callElement.innerHTML = `
                <div class="call-avatar">${call.user.avatar}</div>
                <div class="call-info">
                    <div class="call-name">${call.user.name}</div>
                    <div class="call-details">
                        <i class="fas ${callIcon} ${callColor}"></i>
                        <span class="${callColor}">${callText}</span>
                    </div>
                </div>
                <div class="call-time">${call.time}</div>
            `;
            
            return callElement;
        }

        // Other functions
        function logout() {
            if (confirm('Yakin ingin logout?')) {
                currentUser = null;
                localStorage.removeItem('m8_current_user');
                showScreen('welcomeScreen');
            }
        }

        console.log('ðŸ’™ M8 Messenger - Blue Theme WhatsApp Style Ready!');
    </script>
</body>
</html>
